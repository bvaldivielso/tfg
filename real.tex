\documentclass[12pt]{book}
\usepackage[utf8]{inputenc}

\usepackage{textcomp}

\usepackage[T1]{fontenc}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm} % unnumbered environments

\usepackage{tikz}
\usetikzlibrary{babel}
\usepackage[spanish]{babel}


\usepackage{lmodern}

\usepackage{minted} % código haskell
\usepackage{tikz-cd} % diagramas conmutativos

\usepackage[hidelinks]{hyperref} % para hiperreferencias

\usepackage{color} %para el color

% pies de página y esas cosas
%\usepackage{fancyhdr}
%\pagestyle{fancy}

% cambiar chapter por capítulo
%\renewcommand{\chaptername}{Capítulo}

% algunas macros que usaré frecuentemente
\input{macros/macros.tex}

% bibliografía
\usepackage{biblatex}
\addbibresource{references.bib}


\setcounter{secnumdepth}{3} % que numere las subsecciones también

\graphicspath{ {images/} }

% ambientes: teoremas, definiciones
\newtheorem{definition}{Definición}
\newtheorem*{definition*}{Definición}
\newtheorem{proposition}{Proposición}
\newtheorem*{proposition*}{Proposición}
\newtheorem{theorem}{Teorema}


\title{
	{Patrones de diseño inspirados por teoría de categorías}\\
	{\large Universidad de Granada}\\
}
\author{Braulio Valdivielso Martínez}
\date{\today}


\usepackage{eso-pic}
\usepackage{graphicx}
%\usepackage{fourier}
%\usepackage[beramono,eulerchapternumbers,linedheaders,parts,a5paper,dottedtoc, manychapters,pdfspacing]{classicthesis}
%\usepackage[beramono, eulerchapternumbers,linedheaders,dottedtoc, manychapters,pdfspacing]{classicthesis}
\usepackage[top=1in, bottom=1.5in, left=1in, right=1in]{geometry}

\newcommand\BackgroundPic{%
	\put(0,0){%
		\parbox[b][\paperheight]{\paperwidth}{%
			\vfill
			\centering
			\includegraphics[width=\paperwidth,height=\paperheight,%
			keepaspectratio]{ugrA4.pdf}%
			\vfill
}}}


\begin{document}

\begin{titlepage}
\AddToShipoutPicture*{\BackgroundPic}

\newlength{\centeroffset}
\setlength{\centeroffset}{-0.5\oddsidemargin}
\addtolength{\centeroffset}{0.5\evensidemargin}
\thispagestyle{empty}

\vspace*{4cm}

\noindent\hspace*{\centeroffset}\begin{minipage}{\textwidth}

	\centering
	%\includegraphics[width=0.4\textwidth]{logougrnuevo.jpg}\\[1.4cm]

	\textsc{ \huge Trabajo Fin de Grado\\[0.2cm]}
	\medskip
	\textsc{ \Large Grado en Matemáticas}\\[0.8cm]
	% Upper part of the page
	%
	% Title

	{\Huge\bfseries \makeatletter \@title \makeatother
	}

\end{minipage}

\vspace{2cm}
\noindent\hspace*{\centeroffset}\begin{minipage}{\textwidth}
	\centering
	\textbf{\large Autor}\\ {\large \makeatletter \@author \makeatother}\\[5.5ex]
	%		\textbf{\large Tutor}\\
	%		{\large Pedro A. García-Sánchez}\\[1.6cm]
	%		\textsc{---}\\
	%		Granada, febrero de 2018
\end{minipage}
%\addtolength{\textwidth}{\centeroffset}
%\vspace{\stretch{2}}

\vfill
\begin{minipage}[t][1cm][t]{1.7cm}
	{\large  \textbf{Tutor:}}
\end{minipage}\hfill
\begin{minipage}[t][1cm][t]{7cm}
	{\large María Burgos Navarro\\
		\emph{Didáctica de la Matemática}}\\[.7em]
	{\large Pedro A. García Sánchez\\
		\emph{Álgebra}}
\end{minipage}\hfill
\begin{minipage}[t][1cm][t]{3.5cm}
	\large{Junio 2018}
\end{minipage}

\end{titlepage}

\tableofcontents

\chapter*{Resumen y palabras clave}


\chapter*{Abstract and keywords}
To mum and dad

\chapter*{Declaration}
I declare that..

\chapter*{Introducción}
El lenguaje de programación haskell surge en el año 1990 con
la idea de aunar los esfuerzos de múltiples instituciones académicas
en el desarrollo de un lenguaje de programación funcional. Este
lenguaje de programación estaba pensado para ser una base
común sobre la que realizar docencia e investigación en la
programación funcional.

Haskell cumplió su propósito de ser el vehículo de numerosa innovaciones
en materia del diseño de lenguajes de programación. Entre otros
desarrollos, haskell hizo de un concepto nacido en la teoría de
categorías, las mónadas, una construcción fundamental para el lenguaje.

Conforme se refinaban las especificaciones del lenguaje, la idea de
utilizar haskell en la industria era cada vez
más factible. Hoy en día haskell
es usado en empresas de sectores tan diversos como la banca,
las redes sociales o la mensajería instantánea.

El objetivo del trabajo será comprender la forma en la que
la teoría de categorías ha sido aplicada al diseño de software
en el lenguaje de programación haskell. El objetivo del trabajo,
naturalmente, no puede cumplirse sin estudiar la teoría de categorías
de la que emanan estas aplicaciones.

Comenzamos el trabajo por las definiciones más básicas de la
teoría de categorías: las categorías y los funtores. Ya en el
primer capítulo podremos encontrar los primeros ejemplos de
conceptos categóricos que se usan
diariamente en el desarrollo de software en haskell.

En el segundo capítulo mostraremos la potencia expresiva de
las categorías para la realización de distintas construcciones
sobre estructuras matemáticas diferentes. Especializaremos algunas
de estas construcciones a la programación.

El tercer capítulo tratará una de las nociones más importantes
de la teoría de categorías, que nos servirá
más adelante para enunciar la definición de mónada:
las transformaciones naturales.
Aprovecharemos la teoría construida hasta el momento
para enunciar y demostrar el lema de Yoneda, uno de los resultados
centrales de la teoría de categorías. En la parte de aplicaciones
a la programación veremos cómo las transformaciones naturales
permiten establecer relaciones entre constructores de tipos
polimórficos.

En el cuarto capítulo conseguiremos definir
qué son las monadas. Tendremos que pasar
antes por la definición de adjunción, una abstracción que ha sido
identificada por múltiples autores como uno de los conceptos clave
de la teoría. Finalizaremos la parte del trabajo dedicada a las
matemáticas analizando la relación entre las adjunciones y las
mónadas. Al final del capítulo intentaremos justificar el rol
de las mónadas en la programación funcional.

Finalizaremos el trabajo en el capítulo quinto. Dedicaremos
este capítulo a la exposición de dos patrones de diseño que,
junto con las mónadas, muestran la influencia de la teoría de
categorías en la forma en la que se programa en haskell. Aprovecharemos
también para comentar brevemente otros patrones de diseño
que indicarían líneas de futuro trabajo.

El libro \textit{Topos, Triples and Theories} ha sido la referencia
principal para el estudio de la teoría de categorías durante
la elaboración de este trabajo. Ocasionalmente
se ha utilizado el libro
\textit{Categories for the working mathematician}
para la consulta de algún tema concreto.

El principal recurso de consulta sobre el lenguaje de programación
haskell ha sido \textit{Real World Haskell}. Esporádicamente se
han consultado otras fuentes que serán referenciadas cuando corresponda
a lo largo del texto.

\tableofcontents



\chapter{Categorías y funtores}
\section{Categorías}
\input{chapters/1/categorias.tex}
\section{Funtores}
\input{chapters/1/funtores.tex}
\section{En programación}
\input{chapters/1/programacion.tex}
\chapter{Construcciones elementales}
\input{chapters/2/construcciones-elementales.tex}

\chapter{Transformaciones Naturales y el lema de Yoneda}
\section{Transformaciones Naturales}
\input{chapters/3/transformaciones-naturales.tex}
\section{Lema de Yoneda}
\input{chapters/3/yoneda.tex}
\section{Programación}
\input{chapters/3/programacion.tex}
\chapter{Adjunciones y Mónadas}
\section{Adjunciones}
\input{chapters/4/funtores-adjuntos.tex}

\section{Mónadas}
\input{chapters/4/monadas.tex}

\section{En Programación}
\input{chapters/4/programacion.tex}

\chapter{Patrones de diseño}
\input{chapters/5/patrones.tex}

\chapter*{Conclusiones y vías futuras}
En la asignatura de Geometría I, durante mi primer año de carrera
pude leer una afirmación que despertó mi curiosidad: ``
\textit{un espacio vectorial es naturalmente isomorfo a su doble dual}
''. Lo que
entendí en su momento es que entre esos dos espacios existía
un isomorfismo que era más evidente que otros, aunque no creí
que esa noción se pudiera formalizar.

Este trabajo, cinco años más tarde, me permite por fin
darle un sentido preciso a esa afirmación. Digo más, la maquinaria
que me permite entender qué significa que un espacio vectorial
sea naturalmente isomorfo a su doble dual me
sugiere una forma nueva de entender gran parte de los contenidos
de la carrera, especialmente (pero no exclusivamente) las asignaturas
de álgebra.

La complejidad del software construido a lo larga de la escasa
historia de la disciplina no ha hecho más que crecer, y no hay motivos
para pensar que esta tendencia parará. El desarrollo de
nuevos paradigmas como la programación
orientada a objetos permitió a los ingenieros domar la complejidad
y llevar a cabo proyectos que hubieran sido imposibles con técnicas
más rudimentarias. La utilización de la teoría de categorías
para formalizar abstracciones en lenguajes de programación funcional
podría ser un paso adelante. Muchas empresas se benefician ya
del uso de haskell en sus sistemas y de las
numerosas innovaciones que este
lenguaje de programación introdujo.

Desde mi punto de vista he hecho una buena exposición de los contenidos
de teoría de categorías que permiten entender los patrones
de diseño más usados en haskell. No estoy convencido de que este
texto, por sí mismo, pueda convencer a nadie de que estas técnicas
pueden ser beneficiosas para el desarrollo de software. Haskell es
un lenguaje de programación muy diferente, y cómo tal, aceptar sus
propuestas puede requerir un trabajo continuado. En este sentido
podemos afirmar que los objetivos han sido alcanzados.

La línea exacta de este trabajo puede continuarse con el estudio
de mónadas libres y categorías de álgebras sobre mónadas. Estos
conceptos, que se estudian en los textos de categorías por su
relevancia en las matemáticas, tienen aplicaciones
a la programación. Otra línea de trabajo sería la de la teoría
de categorías para el estudio de sistemas de tipos.

\printbibliography

\appendix
\chapter[Haskell Básico]{Haskell básico para entender los ejemplos}
\input{chapters/apendice/haskell.tex}
\end{document}
